(()=>{"use strict";window.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelector("#root"),s=function(){const e=document.createElement("div");return e.classList.add("cardsBlock"),e||""}(),r=function(){const e=document.createElement("h4");return e.classList.add("cardsBlockHeader"),e.textContent="Введите номер вашей карты в поле ниже",e||""}(),c=function(){const e=document.createElement("div");return e.classList.add("cardsSamples"),[{system:"Visa",img:"https://www.validcreditcardnumber.com/static/img/card-visa.gif"},{system:"MasterCard",img:"https://www.validcreditcardnumber.com/static/img/card-mastercard.gif"},{system:"AmericanExpress",img:"https://www.validcreditcardnumber.com/static/img/card-amex.gif"},{system:"DinersClub",img:"https://www.validcreditcardnumber.com/static/img/card-diners.gif"},{system:"Discover",img:"https://www.validcreditcardnumber.com/static/img/card-discover.gif"},{system:"JCB",img:"https://www.validcreditcardnumber.com/static/img/card-jcb.gif"},{system:"MIR",img:"./img/card-mir.gif"}].forEach((t=>{const s=document.createElement("div");s.classList.add("cardsSamplesItem"),s.classList.add(t.system);const r=document.createElement("img");r.src=t.img,r.title=t.title,s.append(r),e.append(s)})),e||""}(),a=function(){const e=document.createElement("cardsSamplesEntry");e.classList.add("cardsSamplesEntry");const t=document.createElement("input");t.type="number",t.classList.add("cardsSamplesInput"),t.name="cardsSamplesInput",t.placeholder="Номер карты";const s=document.createElement("button");return s.type="button",s.classList.add("cardsSamplesBtn"),s.textContent="Проверить",e.append(t),e.append(s),e||""}(),n=function(){const e=document.createElement("div");return e.classList.add("messageBox"),e||""}();s.append(r),s.append(c),s.append(a),s.append(n),e.append(s),function(){const e=document.querySelector(".cardsSamplesInput");e&&e.addEventListener("input",(()=>{e.value.length>19&&(e.value=e.value.substring(0,19))}))}(),function(){const e=document.querySelector(".cardsSamplesBtn"),s=document.querySelector(".cardsSamplesInput"),r=document.querySelectorAll(".cardsSamplesItem");e&&s&&e.addEventListener("click",(()=>{if(r&&r.forEach((e=>e.classList.remove("cardsSamplesItemActive"))),s.value.length>12&&s.value.length<20){const e=function(e){let t=!1,s="",r=null;if(function(e){const t=e.toString();let s=0;const r=t.length%2;for(let e=0;e<t.length;e+=1){let c=Number(t[e]);e%2===r&&(c*=2,c>9&&(c-=9)),s+=c}return 0===Number(s%10)}(e)){const c=Number(e.substr(0,2)),a=Number(e.substr(0,4));34===c||37===c?(t=!0,s="Карта системы American Express",r="AmericanExpress"):c>51&&c<56?(t=!0,s="Карта системы Mastercard",r="MasterCard"):36===c?(t=!0,s="Карта системы Diners Club",r="DinersClub"):a>=2200&&a<=2204?(t=!0,s="Карта системы МИР",r="MIR"):a>2220&&a<2721?(t=!0,s="Карта системы Mastercard",r="MasterCard"):4===Number(e.substr(0,1))?(t=!0,s="Карта системы Visa",r="Visa"):a>=3528&&a<=3589?(t=!0,s="Карта системы JCB",r="JCB"):6011===a||65===c||Number(e.substr(0,3))>=644&&Number(e.substr(0,3))<=649?(t=!0,s="Карта системы Discover Card",r="Discover"):(t=!1,s="Не удалось определить эмитента карты")}else t=!1,s="Неверный номер карты";return{result:t,mess:s,style:r}}(s.value.toString());if(t(e.mess,e.result),e.result){const t=document.querySelector("."+e.style);t&&t.classList.add("cardsSamplesItemActive")}}else t("В номере карты неверное число цифр",!1)}))}()}()}),!1);let e=0;function t(t,s){e&&clearTimeout(e);const r=document.querySelector(".messageBox");r.classList.remove("resultFalsy"),r.classList.remove("resultTruthy"),s?r.classList.add("resultTruthy"):r.classList.add("resultFalsy"),r.textContent=t,e=setTimeout((()=>{r.textContent=""}),3e3)}})();
//# sourceMappingURL=main.js.map